!function(){"use strict";function e(){return e}function t(){return function(e,t){for(var n=[],i=e.length,a=new RegExp(t,"i"),r=0;i>r;r++){var o=e[r];a.test(o.title.substring(0,32))&&n.push(o)}return n}}function n(e){function t(e,t){var n=e;return angular.forEach(t,function(e){n=n[e]}),n}var n=function(e){return e.split(".")};return function(i,a,r){var o=n(a);return e("filter")(i,function(e){return t(e,o)===r})}}function i(){return function(e,t,n,i){if(!e)return"";if(n=parseInt(n,10),!n)return e;if(e.length<=n)return e;if(e=e.substr(0,n),t){var a=e.lastIndexOf(" ");-1!=a&&(e=e.substr(0,a))}return e+(i||" â€¦")}}angular.module("moto",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ngRoute"]).filter("encodeURI",e).filter("startsWithLetter",t).filter("property",n).filter("limitString",i),n.$inject=["$filter"]}();var vm=this;!function(){"use strict";function e(){return"undefined"!=typeof module&&module.exports?module.exports:vm.SimpleSlider}angular.module("moto").factory("MotoSliderService",e)}(),function(){"use strict";function e(e,t){return{restrict:"AE",scope:{onChange:"&",current:"=?currentSlide",slider:"=?sliderInstance"},controllerAs:"vm",link:function(n,i,a){var r,o=a;a.onChange?o.onChange=n.onChange:o.onChange=function(e,i){parseInt(n.current)!==i&&t(function(){n.$apply(function(){n.current=i})})},0===i[0].children.length?r=n.$watch(function(){return i[0].children.length>0},function(t){t&&(n.slider=new e(i[0],o),r())}):n.slider=new e(i[0],o),n.$watch("current",function(e,t){e&&e!==t&&n.slider.change(parseInt(e))})}}}angular.module("moto").directive("motoSlider",e),e.$inject=["MotoSliderService","$timeout"]}(),function(){"use strict";function e(e){var t=this;e.list(function(e){t.news=e})}angular.module("moto").controller("SliderController",e),e.$inject=["news"]}(),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(function(){return window.SimpleSlider=t()}):e.SimpleSlider=t()}(this,function(){"use strict";function e(e,t){return void 0===e||null===e||""===e?t:e}function t(e,t){for(var n,i=e.length,a="";--i>=0;)n=e[i],"string"==typeof n&&(a=n.replace(parseInt(n,10)+"",""));return"opacity"!==t&&""===a&&(a="px"),a}function n(e){if(0>=e){try{console.warn("A SimpleSlider main container elementshould have at least one child.")}catch(t){}return!0}return!1}function i(e,t,n,a,r,o,s,l,c){function u(){window.requestAnimationFrame(function(o){0===r&&(r=o),i(e,t,n,a,r,o,s,l,c)})}var m;return 0===r?u():(m=c(o-r,s,l-s,a),void(a>=o-r?(e[t]=m+n,u()):e[t]=l+n))}function a(e,t,n,i,a){for(var r=[],o=e.children.length;--o>=0;)r[o]=e.children[o],r[o].style.position="absolute",r[o].style.top="0"+t,r[o].style.left="0"+t,r[o].style[a]=n+t,r[o].style.zIndex=0;return r[0].style[a]=i+t,r[0].style.zIndex=1,r}function r(e,t){return t.style.zIndex=3,e&&(e.style.zIndex=1),t}function o(e,t){return t.style.zIndex=4,e&&(e.style.zIndex=2),t}function s(e){return"false"===e?!1:e}function l(e){document[g]?e.pauseAutoPlay():e.resumeAutoPlay()}Date.now||(Date.now=function(){return(new Date).getTime()});for(var c=["webkit","moz"],u=0;u<c.length&&!window.requestAnimationFrame;++u){var m=c[u];window.requestAnimationFrame=window[m+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var d=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(d+16,t);return setTimeout(function(){e(d=n)},n-t)},window.cancelAnimationFrame=clearTimeout}var g,p,h;"undefined"!=typeof document.hidden?(g="hidden",p="visibilitychange"):"undefined"!=typeof document.mozHidden?(g="mozHidden",p="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(g="msHidden",p="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(g="webkitHidden",p="webkitvisibilitychange");var v=function(n,i){var a=this;a.containerElem=n,a.interval=null,i||(i={});var r=parseInt(a.containerElem.style.width||a.containerElem.offsetWidth,10);a.trProp=e(i.transitionProperty,"left"),a.trTime=e(i.transitionDuration,.5),a.delay=1e3*e(i.transitionDelay,3),a.unit=t([i.startValue,i.visibleValue,i.endValue],a.trProp),a.startVal=parseInt(e(i.startValue,-r+a.unit),10),a.visVal=parseInt(e(i.visibleValue,"0"+a.unit),10),a.endVal=parseInt(e(i.endValue,r+a.unit),10),a.autoPlay=e(s(i.autoPlay),!0),a.ease=e(i.ease,v.defaultEase),a.onChange=e(i.onChange,null),a.init()};return v.defaultEase=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},v.easeNone=function(e,t,n,i){return n*e/i+t},v.prototype.init=function(){this.reset(),this.configSlideshow()},v.prototype.reset=function(){n(this.containerElem.children.length)||(this.containerElem.style.position="relative",this.containerElem.style.overflow="hidden",this.containerElem.style.display="block",this.imgs=a(this.containerElem,this.unit,this.startVal,this.visVal,this.trProp),this.actualIndex=0,this.inserted=null,this.removed=null,this.remainingTime=this.delay)},v.prototype.configSlideshow=function(){return this.imgs?void this.startInterval():!1},v.prototype.startInterval=function(){var e=this;this.isAutoPlayable()&&(this.interval&&window.clearTimeout(this.interval),function t(){e.intervalStartTime=Date.now(),e.interval=window.setTimeout(function(){e.intervalStartTime=Date.now(),e.remainingTime=e.delay,e.change(e.nextIndex()),t()},e.remainingTime)}(),function(){h||"undefined"==typeof document.addEventListener||(document.addEventListener(p,function(){l(e)},!1),h=!0)}())},v.prototype.isAutoPlayable=function(){return this.autoPlay&&this.imgs.length>1},v.prototype.pauseAutoPlay=function(){this.isAutoPlayable()&&(this.remainingTime=this.delay-(Date.now()-this.intervalStartTime),window.clearTimeout(this.interval),this.interval=null)},v.prototype.resumeAutoPlay=function(){this.startInterval()},v.prototype.startAnim=function(e,t,n){i(e.style,this.trProp,this.unit,1e3*this.trTime,0,0,t,n,this.ease)},v.prototype.remove=function(e){this.removed=r(this.removed,this.imgs[e]),this.startAnim(this.imgs[e],this.visVal,this.endVal)},v.prototype.insert=function(e){this.inserted=o(this.inserted,this.imgs[e]),this.startAnim(this.imgs[e],this.startVal,this.visVal)},v.prototype.change=function(e){var t=this.actualIndex;this.remove(this.actualIndex),this.insert(e),this.actualIndex=e,(this.onChange||"[object Function]"==Object.prototype.toString.call(this.onChange))&&this.onChange(t,this.actualIndex)},v.prototype.next=function(){this.change(this.nextIndex()),this.startInterval()},v.prototype.prev=function(){this.change(this.prevIndex()),this.startInterval()},v.prototype.nextIndex=function(){var e=this.actualIndex+1;return e>=this.imgs.length&&(e=0),e},v.prototype.prevIndex=function(){var e=this.actualIndex-1;return 0>e&&(e=this.imgs.length-1),e},v.prototype.dispose=function(){if(window.clearTimeout(this.interval),this.imgs){for(var e=this.imgs.length;--e>=0;)this.imgs.pop();this.imgs=null}this.containerElem=null,this.interval=null,this.trProp=null,this.trTime=null,this.delay=null,this.startVal=null,this.endVal=null,this.autoPlay=null,this.actualIndex=null,this.inserted=null,this.removed=null,this.remainingTime=null},v}),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"app/components/rightColumn/rightColumn.html",scope:{},controller:"rightColumn",controllerAs:"vm"}}angular.module("moto").directive("rightColumn",e)}(),function(){"use strict";function e(e){var t=this;e.list(function(e){t.news=e})}angular.module("moto").controller("rightColumn",e),e.$inject=["news"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm",link:function(e){function t(){e.wrapper.classList.contains("show-nav")===!1?(e.wrapper.classList.add("show-nav"),e.navIcon.classList.add("cross")):(e.wrapper.classList.remove("show-nav"),e.navIcon.classList.remove("cross"))}e.wrapper=document.getElementById("site-wrapper"),e.navIcon=document.getElementById("cross"),e.navTag=document.getElementsByClassName("linkName"),e.navIcon.addEventListener("click",t,!1);for(var n=function(){var e=this.nextElementSibling;null!==e&&e.classList.contains("expandItem")===!1?e.classList.add("expandItem"):e.classList.remove("expandItem")},i=0;i<e.navTag.length;i++)e.navTag[i].addEventListener("click",n,!1)}}}angular.module("moto").directive("motoNavbar",e)}(),function(){"use strict";function e(e){var t=this;t.menuClass=function(n){return t.current=e.path().substring(1),n===t.current?"ms-menu__active":""}}angular.module("moto").controller("NavbarController",e),e.$inject=["$location"]}(),function(){"use strict";function e(e,t){return{replace:!0,restrict:"AE",scope:{images:"="},templateUrl:"app/components/carousel/carousel.html",controller:"CarouselarController",controllerAs:"vm",link:function(n,i,a){n.vm.maxImageCount=Math.min(parseInt(a.displayingImageCount),t.MAX_DISPLAYING_IMAGE)||1;var r=angular.element(e);r.bind("resize",n.onResize),n.onResize(),n.$on("$destroy",function(){r.unbind("resize",n.onResize)})}}}function t(e){return{restrict:"E",scope:{isVisible:"=",imgUrl:"@",date:"@",categoryUrl:"@",tag:"@",headingUrl:"@"},template:'<div class="carouselar__loader" ng-if="vm.isLoading"></div>',controller:"CarouselarImageController",controllerAs:"vm",link:function(t,n){t.vm.compileImage=function(){n.append('<img class="carouselar__image" carouselar-loader on-load="vm.onLoad()" ng-src="{{imgUrl}}"/>'),n.append('<date class="carouselar__date">{{date}}</date>'),n.append('<h4 class="carouselar__heading"><a ng-href="news/{{categoryUrl}}/{{headingUrl}}">{{headingUrl}}</a></h4>'),n.append('<span class="carouselar__cat"><a ng-href="news/{{tag}}">{{tag}}</a></span>'),e(n.contents())(t)}}}}function n(){return{restrict:"A",scope:{onLoad:"&"},link:function(e,t){t.bind("load",e.onLoad)}}}angular.module("moto").directive("carouselar",e),e.$inject=["$window","CarouselarConstants"],angular.module("moto").directive("carouselarImage",t),t.$inject=["$compile"],angular.module("moto").directive("carouselarLoader",n)}(),function(){"use strict";function e(e,t,n,i,a,r){function o(t){t&&(s.sectionCount=Math.ceil(s.news.length/e.displayingImageCount),s.moveToSection(s.activeSection),s.singleImageWidth=100/t+"%")}var s=this;a.list(function(e){s.news=e}),s.visibleImages=[],s.maxImageCount=1,e.displayingImageCount=0,s.activeSection=0,s.sectionCount=5,s.containerPosition="translateX(0)",s.singleImageWidth="100%",s.createArray=function(e){return new Array(e||0)},s.prev=function(){s.moveToSection(s.activeSection-1)},s.next=function(){s.moveToSection(s.activeSection+1)},r(function(){s.next()},5e3),s.moveToSection=function(t){t>=s.sectionCount?s.activeSection=0:0>t?s.activeSection=s.sectionCount-1:s.activeSection=t;var n,i,a=100/e.displayingImageCount,r=[];if(s.activeSection===s.sectionCount-1)for(n=(s.news.length-e.displayingImageCount)*a,i=0;i<e.displayingImageCount+1;i++)r.push(s.news.length-i);else{var o=s.activeSection*e.displayingImageCount;for(r.push(o),i=1;i<e.displayingImageCount;i++)r.push(o+i);n=o*a}s.containerPosition="translateX(-"+n+"%)",s.visibleImages=r},s.resizeTimer=null,e.onResize=function(a,r){t.cancel(s.resizeTimer),s.resizeTimer=t(function(){var t=s.maxImageCount,a=r||n.innerWidth;a<i.BREAKPOINTS.LANDSCAPE&&(t=Math.ceil(s.maxImageCount/2),a<i.BREAKPOINTS.PORTRAIT&&(t=1)),e.displayingImageCount=t},i.RESIZE_TIMEOUT)},e.$watch("displayingImageCount",o),s.isImageVisible=function(e){return s.visibleImages.indexOf(e)>-1}}function t(e){function t(e){e&&(n.compileImage(),i())}var n=this;n.isLoading=!0,n.onLoad=function(){n.isLoading=!1,e.$apply()};var i=e.$watch("isVisible",t)}angular.module("moto").controller("CarouselarController",e),e.$inject=["$scope","$timeout","$window","CarouselarConstants","news","$interval"],angular.module("moto").controller("CarouselarImageController",t),t.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(t){e({method:"GET",url:"app/data/articles.json",cache:!0}).success(t)}return{list:t,find:function(e,n){t(function(t){var i=t.filter(function(t){return t.title===e})[0];n(i)})}}}angular.module("moto").factory("news",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){var t=this;e.list(function(e){t.news=e})}angular.module("moto").controller("MainController",e),e.$inject=["news"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("moto").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).when("/news/:category?",{templateUrl:"app/components/news/news.html",controller:"NewsCtrl",controllerAs:"vm"}).when("/news/:category/:articleName",{templateUrl:"app/components/article/article.html",controller:"ArticleCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("moto").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";angular.module("moto").constant("CarouselarConstants",{RESIZE_TIMEOUT:1e3,MAX_DISPLAYING_IMAGE:5,BREAKPOINTS:{LANDSCAPE:960,PORTRAIT:640}})}(),function(){"use strict";function e(e){e.debugEnabled(!0)}angular.module("moto").config(e),e.$inject=["$logProvider"]}(),angular.module("moto").run(["$templateCache",function(e){e.put("app/main/main.html",'<section class="ms-container"><section class="mainLeft"><div class="sliderWrp"><moto-slider class="motoSlider mainSlider" slider-instance="slider" current-slide="actualslide" transition-property="opacity" start-value="0" visible-value="1" end-value="0" auto-play="true" transition-delay="4"><figure class="figure" ng-repeat="article in vm.news"><img ng-src="{{article.images.img1}}" alt="{{article.title}}"><figcaption><h2><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:48:\' ...\'}}</a></h2></figcaption></figure></moto-slider><button type="button" class="sliderWrp__prev" ng-model="actualslide" ng-click="slider.prev()"></button> <button type="button" class="sliderWrp__next" ng-model="actualslide" ng-click="slider.next()"></button></div><div class="mainThm"><div class="mainThm__inner" ng-repeat="article in vm.news | property:\'category\':\'rally\' | orderBy:\'-date\' | limitTo:-4"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="mainThm__inner--title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:50:\' ...\'}}</a></h4><date class="mainThm__inner--date">{{article.date | date:\'medium\'}}</date><p class="mainThm__inner--content">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="mainThm__inner--cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></div><div class="sliderWrp gp"><moto-slider class="motoSlider mainSliderGp" slider-instance="slidergp" current-slide="actualslideGp" transition-property="opacity" start-value="0" visible-value="1" end-value="0" auto-play="true"><figure class="figure" ng-repeat="article in vm.news | property:\'category\':\'motogp\'"><img ng-src="{{article.images.img1}}" alt="{{article.title}}"><figcaption><h2><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:48:\' ...\'}}</a></h2></figcaption></figure></moto-slider><button type="button" class="sliderWrp__prev" ng-model="actualslideGp" ng-click="slidergp.prev()"></button> <button type="button" class="sliderWrp__next" ng-model="actualslideGp" ng-click="slidergp.next()"></button></div><div class="mainThm"><div class="mainThm__inner" ng-repeat="article in vm.news | property:\'category\':\'vintage\' | orderBy:\'-date\' | limitTo:-4"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="mainThm__inner--title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:50:\' ...\'}}</a></h4><date class="mainThm__inner--date">{{article.date | date:\'medium\'}}</date><p class="mainThm__inner--content">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="mainThm__inner--cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></div></section><aside class="mainRight"><carouselar displaying-image-count="3"></carouselar><right-column></right-column></aside></section>'),e.put("app/components/navbar/navbar.html",'<div class="topnav"><div id="cross" class="topnav__icon"><span class="topnav__icon--item one"></span> <span class="topnav__icon--item two"></span> <span class="topnav__icon--item three"></span></div></div><nav class="ms-container ms-navbar"><ul class="ms-menu"><li ng-class="menuClass(\'#/\')"><a class="linkName" href="/">Home</a></li><li ng-class="menuClass(\'news\')"><a class="linkName" ng-href="news">Latest News</a><ul class="sub_Menu"><li class="sub_Link" ng-class="menuClass(\'#/news/f1\')"><a ng-href="news/f1">Formula 1 News</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/motogp\')"><a ng-href="news/motogp">Moto GP News</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/rally\')"><a ng-href="news/rally">World Rallycross</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/vintage\')"><a ng-href="news/vintage">Vintage</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/v8 supercars\')"><a ng-href="news/v8 supercars">V8 Supercars</a></li></ul></li><li ng-class="menuClass(\'gallery\')"><a class="linkName" ng-href="gallery">Gallery</a></li><li ng-class="menuClass(\'about\')"><a class="linkName" ng-href="about">About</a></li><li ng-class="menuClass(\'contact\')"><a class="linkName" ng-href="contact">Contact</a></li></ul></nav>'),e.put("app/components/carousel/carousel.html",'<div class="ms-container carouselar"><div class="carouselar__navigation"><span class="carouselar__navigation__button carouselar__navigation__button--prev" ng-click="vm.prev()">PREV</span><div class="carouselar__navigation__index"><span class="carouselar__navigation__button carouselar__navigation__button--index" ng-repeat="i in vm.createArray(vm.sectionCount) track by $index" ng-class="{carouselar__navigation__button__active: $index === vm.activeSection}" ng-click="vm.moveToSection($index)">{{$index + 1}}</span></div><span class="carouselar__navigation__button carouselar__navigation__button--next" ng-click="vm.next()">NEXT</span></div><div class="carouselar__container"><div class="carouselar__inner-container" ng-style="{transform: vm.containerPosition}"><carouselar-image class="carouselar__image-container" ng-style="{width: vm.singleImageWidth}" ng-repeat="article in vm.news" is-visible="vm.isImageVisible($index)" img-url="{{article.images.img1}}" date="{{article.date | date:\'medium\'}}" category-url="{{article.category}}" heading-url="{{article.title}}" tag="{{article.category}}"></carouselar-image></div></div></div>'),e.put("app/components/rightColumn/rightColumn.html",'<aside class="rightColumnModule"><article class="left"><h3>V8 Supercars</h3><div class="motoThumbs supercars" ng-repeat="article in vm.news | property:\'category\':\'v8 supercars\' | orderBy:\'-date\' | limitTo:-3"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="motoThumbs__title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title}}</a></h4><date class="motoThumbs__date">{{article.date | date:\'medium\'}}</date><p class="motoThumbs__intro">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="motoThumbs__cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div><h3>Vintage Cars</h3><div class="motoThumbs vintage" ng-repeat="article in vm.news | property:\'category\':\'vintage\' | orderBy:\'-date\' | limitTo:-3"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="motoThumbs__title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title}}</a></h4><date class="motoThumbs__date">{{article.date | date:\'medium\'}}</date><p class="motoThumbs__intro">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="motoThumbs__cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></article><article class="right"><h3>Categories</h3><menu><ul><li></li></ul></menu><h3>Videos</h3><div class="videos" ng-repeat="article in vm.news | property:\'category\':\'motogp\' | orderBy:\'-date\' | limitTo:5"><video controls=""><source src="{{article.video}}" type="video/mp4">Your browser does not support the <code>video</code> element.</video><date class="videos__date">{{article.date | date:\'medium\'}}</date><h4 class="videos__title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:100:\' ...\'}}</a></h4><span class="videos__cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></article></aside>')}]);
//# sourceMappingURL=../maps/scripts/app-4c4059b4f7.js.map
