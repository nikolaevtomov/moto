!function(){"use strict";function e(){return e}function n(){return function(e,n){for(var t=[],a=e.length,i=new RegExp(n,"i"),r=0;a>r;r++){var s=e[r];i.test(s.title.substring(0,32))&&t.push(s)}return t}}function t(e){function n(e,n){var t=e;return angular.forEach(n,function(e){t=t[e]}),t}var t=function(e){return e.split(".")};return function(a,i,r){var s=t(i);return e("filter")(a,function(e){return n(e,s)===r})}}function a(){return function(e,n,t,a){if(!e)return"";if(t=parseInt(t,10),!t)return e;if(e.length<=t)return e;if(e=e.substr(0,t),n){var i=e.lastIndexOf(" ");-1!=i&&(e=e.substr(0,i))}return e+(a||" â€¦")}}angular.module("moto",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ngRoute"]).filter("encodeURI",e).filter("startsWithLetter",n).filter("property",t).filter("limitString",a),t.$inject=["$filter"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm",link:function(e){function n(){e.wrapper.classList.contains("show-nav")===!1?(e.wrapper.classList.add("show-nav"),e.navIcon.classList.add("cross")):(e.wrapper.classList.remove("show-nav"),e.navIcon.classList.remove("cross"))}e.wrapper=document.getElementById("site-wrapper"),e.navIcon=document.getElementById("cross"),e.navTag=document.getElementsByClassName("linkName"),e.navIcon.addEventListener("click",n,!1);for(var t=function(){var e=this.nextElementSibling;null!==e&&e.classList.contains("expandItem")===!1?e.classList.add("expandItem"):e.classList.remove("expandItem")},a=0;a<e.navTag.length;a++)e.navTag[a].addEventListener("click",t,!1)}}}angular.module("moto").directive("motoNavbar",e)}(),function(){"use strict";function e(e){var n=this;n.menuClass=function(t){return n.current=e.path().substring(1),t===n.current?"ms-menu__active":""}}angular.module("moto").controller("NavbarController",e),e.$inject=["$location"]}(),function(){"use strict";function e(e,n){return{replace:!0,restrict:"AE",scope:{images:"="},templateUrl:"app/components/carousel/carousel.html",controller:"CarouselarController",controllerAs:"vm",link:function(t,a,i){t.vm.maxImageCount=Math.min(parseInt(i.displayingImageCount),n.MAX_DISPLAYING_IMAGE)||1;var r=angular.element(e);r.bind("resize",t.onResize),t.onResize(),t.$on("$destroy",function(){r.unbind("resize",t.onResize)})}}}function n(e){return{restrict:"E",scope:{isVisible:"=",imgUrl:"@",date:"@",categoryUrl:"@",tag:"@",headingUrl:"@"},template:'<div class="carouselar__loader" ng-if="vm.isLoading"></div>',controller:"CarouselarImageController",controllerAs:"vm",link:function(n,t){n.vm.compileImage=function(){t.append('<img class="carouselar__image" carouselar-loader on-load="vm.onLoad()" ng-src="{{imgUrl}}"/>'),t.append('<date class="carouselar__date">{{date}}</date>'),t.append('<h4 class="carouselar__heading"><a ng-href="news/{{categoryUrl}}/{{headingUrl}}">{{headingUrl}}</a></h4>'),t.append('<span class="carouselar__cat"><a ng-href="news/{{tag}}">{{tag}}</a></span>'),e(t.contents())(n)}}}}function t(){return{restrict:"A",scope:{onLoad:"&"},link:function(e,n){n.bind("load",e.onLoad)}}}angular.module("moto").directive("carouselar",e),e.$inject=["$window","CarouselarConstants"],angular.module("moto").directive("carouselarImage",n),n.$inject=["$compile"],angular.module("moto").directive("carouselarLoader",t)}(),function(){"use strict";function e(e,n,t,a,i,r){function s(n){n&&(l.sectionCount=Math.ceil(l.news.length/e.displayingImageCount),l.moveToSection(l.activeSection),l.singleImageWidth=100/n+"%")}var l=this;i.list(function(e){l.news=e}),l.visibleImages=[],l.maxImageCount=1,e.displayingImageCount=0,l.activeSection=0,l.sectionCount=5,l.containerPosition="translateX(0)",l.singleImageWidth="100%",l.createArray=function(e){return new Array(e||0)},l.prev=function(){l.moveToSection(l.activeSection-1)},l.next=function(){l.moveToSection(l.activeSection+1)},r(function(){l.next()},5e3),l.moveToSection=function(n){n>=l.sectionCount?l.activeSection=0:0>n?l.activeSection=l.sectionCount-1:l.activeSection=n;var t,a,i=100/e.displayingImageCount,r=[];if(l.activeSection===l.sectionCount-1)for(t=(l.news.length-e.displayingImageCount)*i,a=0;a<e.displayingImageCount+1;a++)r.push(l.news.length-a);else{var s=l.activeSection*e.displayingImageCount;for(r.push(s),a=1;a<e.displayingImageCount;a++)r.push(s+a);t=s*i}l.containerPosition="translateX(-"+t+"%)",l.visibleImages=r},l.resizeTimer=null,e.onResize=function(i,r){n.cancel(l.resizeTimer),l.resizeTimer=n(function(){var n=l.maxImageCount,i=r||t.innerWidth;i<a.BREAKPOINTS.LANDSCAPE&&(n=Math.ceil(l.maxImageCount/2),i<a.BREAKPOINTS.PORTRAIT&&(n=1)),e.displayingImageCount=n},a.RESIZE_TIMEOUT)},e.$watch("displayingImageCount",s),l.isImageVisible=function(e){return l.visibleImages.indexOf(e)>-1}}function n(e){function n(e){e&&(t.compileImage(),a())}var t=this;t.isLoading=!0,t.onLoad=function(){t.isLoading=!1,e.$apply()};var a=e.$watch("isVisible",n)}angular.module("moto").controller("CarouselarController",e),e.$inject=["$scope","$timeout","$window","CarouselarConstants","news","$interval"],angular.module("moto").controller("CarouselarImageController",n),n.$inject=["$scope"]}(),function(){"use strict";function e(e){function n(n){e({method:"GET",url:"app/data/articles.json",cache:!0}).success(n)}return{list:n,find:function(e,t){n(function(n){var a=n.filter(function(n){return n.title===e})[0];t(a)})}}}angular.module("moto").factory("news",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){var n=this;e.list(function(e){n.news=e})}angular.module("moto").controller("MainController",e),e.$inject=["news"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("moto").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).when("/news/:category?",{templateUrl:"app/components/news/news.html",controller:"NewsCtrl",controllerAs:"vm"}).when("/news/:category/:articleName",{templateUrl:"app/components/article/article.html",controller:"ArticleCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("moto").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";angular.module("moto").constant("CarouselarConstants",{RESIZE_TIMEOUT:1e3,MAX_DISPLAYING_IMAGE:5,BREAKPOINTS:{LANDSCAPE:960,PORTRAIT:640}})}(),function(){"use strict";function e(e){e.debugEnabled(!0)}angular.module("moto").config(e),e.$inject=["$logProvider"]}(),angular.module("moto").run(["$templateCache",function(e){e.put("app/main/main.html",'<section class="ms-container"><section class="mainLeft"><div class="sliderWrp"><moto-slider class="motoSlider mainSlider" slider-instance="slider" current-slide="actualslide" transition-property="opacity" start-value="0" visible-value="1" end-value="0" auto-play="true" transition-delay="4"><figure class="figure" ng-repeat="article in vm.news"><img ng-src="{{article.images.img1}}" alt="{{article.title}}"><figcaption><h2><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:48:\' ...\'}}</a></h2></figcaption></figure></moto-slider><button type="button" class="sliderWrp__prev" ng-model="actualslide" ng-click="slider.prev()"></button> <button type="button" class="sliderWrp__next" ng-model="actualslide" ng-click="slider.next()"></button></div><div class="mainThm"><div class="mainThm__inner" ng-repeat="article in vm.news | property:\'category\':\'rally\' | orderBy:\'-date\' | limitTo:-4"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="mainThm__inner--title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:50:\' ...\'}}</a></h4><date class="mainThm__inner--date">{{article.date | date:\'medium\'}}</date><p class="mainThm__inner--content">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="mainThm__inner--cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></div><div class="sliderWrp gp"><moto-slider class="motoSlider mainSliderGp" slider-instance="slidergp" current-slide="actualslideGp" transition-property="opacity" start-value="0" visible-value="1" end-value="0" auto-play="true"><figure class="figure" ng-repeat="article in vm.news | property:\'category\':\'motogp\'"><img ng-src="{{article.images.img1}}" alt="{{article.title}}"><figcaption><h2><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:48:\' ...\'}}</a></h2></figcaption></figure></moto-slider><button type="button" class="sliderWrp__prev" ng-model="actualslideGp" ng-click="slidergp.prev()"></button> <button type="button" class="sliderWrp__next" ng-model="actualslideGp" ng-click="slidergp.next()"></button></div><div class="mainThm"><div class="mainThm__inner" ng-repeat="article in vm.news | property:\'category\':\'vintage\' | orderBy:\'-date\' | limitTo:-4"><img src="{{article.images.img1}}" alt="{{article.title}}"><h4 class="mainThm__inner--title"><a ng-href="news/{{article.category}}/{{article.title | encodeURI}}">{{article.title | limitString:true:50:\' ...\'}}</a></h4><date class="mainThm__inner--date">{{article.date | date:\'medium\'}}</date><p class="mainThm__inner--content">{{article.post.content | limitString:true:200:\' ...\'}}</p><span class="mainThm__inner--cat"><a ng-href="news/{{article.category}}">{{article.category}}</a></span></div></div></section><aside class="mainRight"><carouselar displaying-image-count="3"></carouselar><right-column></right-column></aside></section>'),e.put("app/components/carousel/carousel.html",'<div class="ms-container carouselar"><div class="carouselar__navigation"><span class="carouselar__navigation__button carouselar__navigation__button--prev" ng-click="vm.prev()">PREV</span><div class="carouselar__navigation__index"><span class="carouselar__navigation__button carouselar__navigation__button--index" ng-repeat="i in vm.createArray(vm.sectionCount) track by $index" ng-class="{carouselar__navigation__button__active: $index === vm.activeSection}" ng-click="vm.moveToSection($index)">{{$index + 1}}</span></div><span class="carouselar__navigation__button carouselar__navigation__button--next" ng-click="vm.next()">NEXT</span></div><div class="carouselar__container"><div class="carouselar__inner-container" ng-style="{transform: vm.containerPosition}"><carouselar-image class="carouselar__image-container" ng-style="{width: vm.singleImageWidth}" ng-repeat="article in vm.news" is-visible="vm.isImageVisible($index)" img-url="{{article.images.img1}}" date="{{article.date | date:\'medium\'}}" category-url="{{article.category}}" heading-url="{{article.title}}" tag="{{article.category}}"></carouselar-image></div></div></div>'),e.put("app/components/navbar/navbar.html",'<div class="topnav"><div id="cross" class="topnav__icon"><span class="topnav__icon--item one"></span> <span class="topnav__icon--item two"></span> <span class="topnav__icon--item three"></span></div></div><nav class="ms-container ms-navbar"><ul class="ms-menu"><li ng-class="menuClass(\'#/\')"><a class="linkName" href="/">Home</a></li><li ng-class="menuClass(\'news\')"><a class="linkName" ng-href="news">Latest News</a><ul class="sub_Menu"><li class="sub_Link" ng-class="menuClass(\'#/news/f1\')"><a ng-href="news/f1">Formula 1 News</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/motogp\')"><a ng-href="news/motogp">Moto GP News</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/rally\')"><a ng-href="news/rally">World Rallycross</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/vintage\')"><a ng-href="news/vintage">Vintage</a></li><li class="sub_Link" ng-class="menuClass(\'#/news/v8 supercars\')"><a ng-href="news/v8 supercars">V8 Supercars</a></li></ul></li><li ng-class="menuClass(\'gallery\')"><a class="linkName" ng-href="gallery">Gallery</a></li><li ng-class="menuClass(\'about\')"><a class="linkName" ng-href="about">About</a></li><li ng-class="menuClass(\'contact\')"><a class="linkName" ng-href="contact">Contact</a></li></ul></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-01ca85308e.js.map
